(window["webpackJsonpmargin-swap"]=window["webpackJsonpmargin-swap"]||[]).push([[0],{15:function(e,t){e.exports={ETH:{name:"Ethereum",symbol:"ETH",compound_address:"0x4ddc2d193948926d02f9b1fe9e1daa0718270ed5"},BAT:{name:"Basic Attention Token",symbol:"BAT",compound_address:"0x6c8c6b02e7b2be14d4fa6022dfd6d75921d90e4e"},DAI:{name:"Dai Stablecoin",symbol:"DAI",compound_address:"0xf5dce57282a584d2746faf1593d3121fcac444dc"},REP:{name:"Reputation",symbol:"REP",compound_address:"0x158079ee67fce2f58472a96584a73c7ab9ac95c1"},USDC:{name:"USD Coin",symbol:"USDC",compound_address:"0x39aa39c021dfbae8fac545936693ac917d5e7563"},WBTC:{name:"Wrapped BTC",symbol:"WBTC",compound_address:"0xc11b1268c1a384e55c48c2391d8d480264a3a7f4"}}},169:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"isMarginSetup","outputs":[{"name":"margin_contract","type":"address"},{"name":"enabled","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"setupMargin","outputs":[{"name":"margin_contract","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"asset","type":"address"},{"name":"amount","type":"uint256"}],"name":"getCapital","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"margin_code_address","type":"address"}],"name":"setMarginCode","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"getMarginAddress","outputs":[{"name":"margin_contract","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"new_manager","type":"address"}],"name":"managerPropose","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"managerSet","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"margin_code_address","type":"address"},{"name":"approved","type":"bool"}],"name":"approveMarginCode","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"default_code","type":"address"}],"name":"setDefautlMarginCode","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"default_code","type":"address"}],"payable":true,"stateMutability":"payable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":false,"name":"margin_address","type":"address"}],"name":"MarginSetup","type":"event"}]')},170:function(e){e.exports=JSON.parse('[{"constant":false,"inputs":[{"name":"asset","type":"address"},{"name":"amount","type":"uint256"},{"name":"destination","type":"address"}],"name":"transferOut","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"depositEth","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"asset_address","type":"address"},{"name":"amount","type":"uint256"}],"name":"deposit","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[{"name":"cToken","type":"address"}],"name":"lookupUnderlying","outputs":[{"name":"result","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"input_asset","type":"address"},{"name":"input_amount","type":"uint256"},{"name":"output_asset","type":"address"},{"name":"min_output_amount","type":"uint256"},{"name":"trade_contract","type":"address"},{"name":"trade_data","type":"bytes"}],"name":"trade","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"comptrollerAddress","outputs":[{"name":"comptroller","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"asset","type":"address"},{"name":"amount","type":"uint256"},{"name":"destination","type":"address"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"comptroller","type":"address"}],"name":"setComptrollerAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"cTokens","type":"address[]"}],"name":"enterMarkets","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"trade_contract","type":"address"},{"indexed":false,"name":"from_asset","type":"address"},{"indexed":false,"name":"to_asset","type":"address"},{"indexed":false,"name":"input","type":"uint256"},{"indexed":false,"name":"output","type":"uint256"},{"indexed":false,"name":"input_fee","type":"uint256"}],"name":"Trade","type":"event"}]')},171:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"pendingAdmin","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x26782247"},{"constant":false,"inputs":[{"name":"newPendingAdmin","type":"address"}],"name":"_setPendingAdmin","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xb71d1a0c"},{"constant":true,"inputs":[],"name":"comptrollerImplementation","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xbb82aa5e"},{"constant":false,"inputs":[],"name":"_acceptImplementation","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xc1e80334"},{"constant":true,"inputs":[],"name":"pendingComptrollerImplementation","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xdcfbc0c7"},{"constant":false,"inputs":[{"name":"newPendingImplementation","type":"address"}],"name":"_setPendingImplementation","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xe992a041"},{"constant":false,"inputs":[],"name":"_acceptAdmin","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xe9c714f2"},{"constant":true,"inputs":[],"name":"admin","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xf851a440"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor","signature":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldPendingImplementation","type":"address"},{"indexed":false,"name":"newPendingImplementation","type":"address"}],"name":"NewPendingImplementation","type":"event","signature":"0xe945ccee5d701fc83f9b8aa8ca94ea4219ec1fcbd4f4cab4f0ea57c5c3e1d815"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldImplementation","type":"address"},{"indexed":false,"name":"newImplementation","type":"address"}],"name":"NewImplementation","type":"event","signature":"0xd604de94d45953f9138079ec1b82d533cb2160c906d1076d1f7ed54befbca97a"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldPendingAdmin","type":"address"},{"indexed":false,"name":"newPendingAdmin","type":"address"}],"name":"NewPendingAdmin","type":"event","signature":"0xca4f2f25d0898edd99413412fb94012f9e54ec8142f9b093e7720646a95b16a9"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldAdmin","type":"address"},{"indexed":false,"name":"newAdmin","type":"address"}],"name":"NewAdmin","type":"event","signature":"0xf9ffabca9c8276e99321725bcb43fb076a6c66a54b7f21c4e8146d8519b417dc"},{"anonymous":false,"inputs":[{"indexed":false,"name":"error","type":"uint256"},{"indexed":false,"name":"info","type":"uint256"},{"indexed":false,"name":"detail","type":"uint256"}],"name":"Failure","type":"event","signature":"0x45b96fe442630264581b197e84bbada861235052c5a1aadfff9ea4e40a969aa0"},{"constant":true,"inputs":[],"name":"isComptroller","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x007e3dd2"},{"constant":false,"inputs":[{"name":"cToken","type":"address"},{"name":"payer","type":"address"},{"name":"borrower","type":"address"},{"name":"repayAmount","type":"uint256"},{"name":"borrowerIndex","type":"uint256"}],"name":"repayBorrowVerify","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x1ededc91"},{"constant":false,"inputs":[{"name":"cToken","type":"address"},{"name":"payer","type":"address"},{"name":"borrower","type":"address"},{"name":"repayAmount","type":"uint256"}],"name":"repayBorrowAllowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x24008a62"},{"constant":true,"inputs":[],"name":"pendingAdmin","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x26782247"},{"constant":false,"inputs":[{"name":"newCloseFactorMantissa","type":"uint256"}],"name":"_setCloseFactor","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x317b0b77"},{"constant":false,"inputs":[{"name":"unitroller","type":"address"},{"name":"_oracle","type":"address"},{"name":"_closeFactorMantissa","type":"uint256"},{"name":"_maxAssets","type":"uint256"},{"name":"reinitializing","type":"bool"}],"name":"_become","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x32000e00"},{"constant":false,"inputs":[{"name":"cToken","type":"address"},{"name":"minter","type":"address"},{"name":"mintAmount","type":"uint256"},{"name":"mintTokens","type":"uint256"}],"name":"mintVerify","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x41c728b9"},{"constant":false,"inputs":[{"name":"cTokenBorrowed","type":"address"},{"name":"cTokenCollateral","type":"address"},{"name":"liquidator","type":"address"},{"name":"borrower","type":"address"},{"name":"repayAmount","type":"uint256"},{"name":"seizeTokens","type":"uint256"}],"name":"liquidateBorrowVerify","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x47ef3b3b"},{"constant":true,"inputs":[],"name":"liquidationIncentiveMantissa","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x4ada90af"},{"constant":false,"inputs":[{"name":"cToken","type":"address"},{"name":"minter","type":"address"},{"name":"mintAmount","type":"uint256"}],"name":"mintAllowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x4ef4c3e1"},{"constant":false,"inputs":[{"name":"newLiquidationIncentiveMantissa","type":"uint256"}],"name":"_setLiquidationIncentive","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x4fd42e17"},{"constant":false,"inputs":[{"name":"cToken","type":"address"},{"name":"redeemer","type":"address"},{"name":"redeemAmount","type":"uint256"},{"name":"redeemTokens","type":"uint256"}],"name":"redeemVerify","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x51dff989"},{"constant":false,"inputs":[{"name":"newOracle","type":"address"}],"name":"_setPriceOracle","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x55ee1fe1"},{"constant":false,"inputs":[{"name":"cToken","type":"address"},{"name":"borrower","type":"address"},{"name":"borrowAmount","type":"uint256"}],"name":"borrowVerify","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x5c778605"},{"constant":true,"inputs":[{"name":"account","type":"address"}],"name":"getAccountLiquidity","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x5ec88c79"},{"constant":false,"inputs":[{"name":"cTokenBorrowed","type":"address"},{"name":"cTokenCollateral","type":"address"},{"name":"liquidator","type":"address"},{"name":"borrower","type":"address"},{"name":"repayAmount","type":"uint256"}],"name":"liquidateBorrowAllowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x5fc7e71e"},{"constant":false,"inputs":[{"name":"cToken","type":"address"},{"name":"src","type":"address"},{"name":"dst","type":"address"},{"name":"transferTokens","type":"uint256"}],"name":"transferVerify","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x6a56947e"},{"constant":false,"inputs":[{"name":"cTokenCollateral","type":"address"},{"name":"cTokenBorrowed","type":"address"},{"name":"liquidator","type":"address"},{"name":"borrower","type":"address"},{"name":"seizeTokens","type":"uint256"}],"name":"seizeVerify","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x6d35bf91"},{"constant":true,"inputs":[],"name":"oracle","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x7dc0d1d0"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"markets","outputs":[{"name":"isListed","type":"bool"},{"name":"collateralFactorMantissa","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x8e8f294b"},{"constant":true,"inputs":[{"name":"account","type":"address"},{"name":"cToken","type":"address"}],"name":"checkMembership","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x929fe9a1"},{"constant":true,"inputs":[],"name":"maxAssets","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x94b2294b"},{"constant":false,"inputs":[{"name":"cToken","type":"address"}],"name":"_supportMarket","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xa76b3fda"},{"constant":true,"inputs":[{"name":"account","type":"address"}],"name":"getAssetsIn","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xabfceffc"},{"constant":true,"inputs":[],"name":"comptrollerImplementation","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xbb82aa5e"},{"constant":false,"inputs":[{"name":"cToken","type":"address"},{"name":"src","type":"address"},{"name":"dst","type":"address"},{"name":"transferTokens","type":"uint256"}],"name":"transferAllowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xbdcdc258"},{"constant":false,"inputs":[{"name":"cTokens","type":"address[]"}],"name":"enterMarkets","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xc2998238"},{"constant":true,"inputs":[{"name":"cTokenBorrowed","type":"address"},{"name":"cTokenCollateral","type":"address"},{"name":"repayAmount","type":"uint256"}],"name":"liquidateCalculateSeizeTokens","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xc488847b"},{"constant":false,"inputs":[{"name":"cTokenCollateral","type":"address"},{"name":"cTokenBorrowed","type":"address"},{"name":"liquidator","type":"address"},{"name":"borrower","type":"address"},{"name":"seizeTokens","type":"uint256"}],"name":"seizeAllowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xd02f7351"},{"constant":false,"inputs":[{"name":"newMaxAssets","type":"uint256"}],"name":"_setMaxAssets","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xd9226ced"},{"constant":false,"inputs":[{"name":"cToken","type":"address"},{"name":"borrower","type":"address"},{"name":"borrowAmount","type":"uint256"}],"name":"borrowAllowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xda3d454c"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"uint256"}],"name":"accountAssets","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xdce15449"},{"constant":true,"inputs":[],"name":"pendingComptrollerImplementation","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xdcfbc0c7"},{"constant":false,"inputs":[{"name":"cToken","type":"address"},{"name":"newCollateralFactorMantissa","type":"uint256"}],"name":"_setCollateralFactor","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xe4028eee"},{"constant":true,"inputs":[],"name":"closeFactorMantissa","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xe8755446"},{"constant":false,"inputs":[{"name":"cToken","type":"address"},{"name":"redeemer","type":"address"},{"name":"redeemTokens","type":"uint256"}],"name":"redeemAllowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xeabe7d91"},{"constant":false,"inputs":[{"name":"cTokenAddress","type":"address"}],"name":"exitMarket","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xede4edd0"},{"constant":true,"inputs":[],"name":"admin","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xf851a440"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor","signature":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"cToken","type":"address"}],"name":"MarketListed","type":"event","signature":"0xcf583bb0c569eb967f806b11601c4cb93c10310485c67add5f8362c2f212321f"},{"anonymous":false,"inputs":[{"indexed":false,"name":"cToken","type":"address"},{"indexed":false,"name":"account","type":"address"}],"name":"MarketEntered","type":"event","signature":"0x3ab23ab0d51cccc0c3085aec51f99228625aa1a922b3a8ca89a26b0f2027a1a5"},{"anonymous":false,"inputs":[{"indexed":false,"name":"cToken","type":"address"},{"indexed":false,"name":"account","type":"address"}],"name":"MarketExited","type":"event","signature":"0xe699a64c18b07ac5b7301aa273f36a2287239eb9501d81950672794afba29a0d"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldCloseFactorMantissa","type":"uint256"},{"indexed":false,"name":"newCloseFactorMantissa","type":"uint256"}],"name":"NewCloseFactor","type":"event","signature":"0x3b9670cf975d26958e754b57098eaa2ac914d8d2a31b83257997b9f346110fd9"},{"anonymous":false,"inputs":[{"indexed":false,"name":"cToken","type":"address"},{"indexed":false,"name":"oldCollateralFactorMantissa","type":"uint256"},{"indexed":false,"name":"newCollateralFactorMantissa","type":"uint256"}],"name":"NewCollateralFactor","type":"event","signature":"0x70483e6592cd5182d45ac970e05bc62cdcc90e9d8ef2c2dbe686cf383bcd7fc5"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldLiquidationIncentiveMantissa","type":"uint256"},{"indexed":false,"name":"newLiquidationIncentiveMantissa","type":"uint256"}],"name":"NewLiquidationIncentive","type":"event","signature":"0xaeba5a6c40a8ac138134bff1aaa65debf25971188a58804bad717f82f0ec1316"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldMaxAssets","type":"uint256"},{"indexed":false,"name":"newMaxAssets","type":"uint256"}],"name":"NewMaxAssets","type":"event","signature":"0x7093cf1eb653f749c3ff531d6df7f92764536a7fa0d13530cd26e070780c32ea"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldPriceOracle","type":"address"},{"indexed":false,"name":"newPriceOracle","type":"address"}],"name":"NewPriceOracle","type":"event","signature":"0xd52b2b9b7e9ee655fcb95d2e5b9e0c9f69e7ef2b8e9d2d0ea78402d576d22e22"},{"anonymous":false,"inputs":[{"indexed":false,"name":"error","type":"uint256"},{"indexed":false,"name":"info","type":"uint256"},{"indexed":false,"name":"detail","type":"uint256"}],"name":"Failure","type":"event","signature":"0x45b96fe442630264581b197e84bbada861235052c5a1aadfff9ea4e40a969aa0"}]')},172:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},173:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x06fdde03"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"amount","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x095ea7b3"},{"constant":false,"inputs":[{"name":"repayAmount","type":"uint256"}],"name":"repayBorrow","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x0e752702"},{"constant":true,"inputs":[],"name":"reserveFactorMantissa","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x173b9904"},{"constant":false,"inputs":[{"name":"account","type":"address"}],"name":"borrowBalanceCurrent","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x17bfdfbc"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x18160ddd"},{"constant":true,"inputs":[],"name":"exchangeRateStored","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x182df0f5"},{"constant":false,"inputs":[{"name":"src","type":"address"},{"name":"dst","type":"address"},{"name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x23b872dd"},{"constant":false,"inputs":[{"name":"borrower","type":"address"},{"name":"repayAmount","type":"uint256"}],"name":"repayBorrowBehalf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x2608f818"},{"constant":true,"inputs":[],"name":"pendingAdmin","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x26782247"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x313ce567"},{"constant":false,"inputs":[{"name":"owner","type":"address"}],"name":"balanceOfUnderlying","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x3af9e669"},{"constant":true,"inputs":[],"name":"getCash","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x3b1d21a2"},{"constant":false,"inputs":[{"name":"newComptroller","type":"address"}],"name":"_setComptroller","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x4576b5db"},{"constant":true,"inputs":[],"name":"totalBorrows","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x47bd3718"},{"constant":true,"inputs":[],"name":"comptroller","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x5fe3b567"},{"constant":false,"inputs":[{"name":"reduceAmount","type":"uint256"}],"name":"_reduceReserves","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x601a0bf1"},{"constant":true,"inputs":[],"name":"initialExchangeRateMantissa","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x675d972c"},{"constant":true,"inputs":[],"name":"accrualBlockNumber","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x6c540baf"},{"constant":true,"inputs":[],"name":"underlying","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x6f307dc3"},{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x70a08231"},{"constant":false,"inputs":[],"name":"totalBorrowsCurrent","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x73acee98"},{"constant":false,"inputs":[{"name":"redeemAmount","type":"uint256"}],"name":"redeemUnderlying","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x852a12e3"},{"constant":true,"inputs":[],"name":"totalReserves","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x8f840ddd"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x95d89b41"},{"constant":true,"inputs":[{"name":"account","type":"address"}],"name":"borrowBalanceStored","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x95dd9193"},{"constant":false,"inputs":[{"name":"mintAmount","type":"uint256"}],"name":"mint","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xa0712d68"},{"constant":false,"inputs":[],"name":"accrueInterest","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xa6afed95"},{"constant":false,"inputs":[{"name":"dst","type":"address"},{"name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xa9059cbb"},{"constant":true,"inputs":[],"name":"borrowIndex","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xaa5af0fd"},{"constant":true,"inputs":[],"name":"supplyRatePerBlock","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xae9d70b0"},{"constant":false,"inputs":[{"name":"liquidator","type":"address"},{"name":"borrower","type":"address"},{"name":"seizeTokens","type":"uint256"}],"name":"seize","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xb2a02ff1"},{"constant":false,"inputs":[{"name":"newPendingAdmin","type":"address"}],"name":"_setPendingAdmin","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xb71d1a0c"},{"constant":false,"inputs":[],"name":"exchangeRateCurrent","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xbd6d894d"},{"constant":true,"inputs":[{"name":"account","type":"address"}],"name":"getAccountSnapshot","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xc37f68e2"},{"constant":false,"inputs":[{"name":"borrowAmount","type":"uint256"}],"name":"borrow","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xc5ebeaec"},{"constant":false,"inputs":[{"name":"redeemTokens","type":"uint256"}],"name":"redeem","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xdb006a75"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xdd62ed3e"},{"constant":false,"inputs":[],"name":"_acceptAdmin","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xe9c714f2"},{"constant":false,"inputs":[{"name":"newInterestRateModel","type":"address"}],"name":"_setInterestRateModel","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xf2b3abbd"},{"constant":true,"inputs":[],"name":"interestRateModel","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xf3fdb15a"},{"constant":false,"inputs":[{"name":"borrower","type":"address"},{"name":"repayAmount","type":"uint256"},{"name":"cTokenCollateral","type":"address"}],"name":"liquidateBorrow","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xf5e3c462"},{"constant":true,"inputs":[],"name":"admin","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xf851a440"},{"constant":true,"inputs":[],"name":"borrowRatePerBlock","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xf8f9da28"},{"constant":false,"inputs":[{"name":"newReserveFactorMantissa","type":"uint256"}],"name":"_setReserveFactor","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xfca7820b"},{"constant":true,"inputs":[],"name":"isCToken","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xfe9c44ae"},{"inputs":[{"name":"underlying_","type":"address"},{"name":"comptroller_","type":"address"},{"name":"interestRateModel_","type":"address"},{"name":"initialExchangeRateMantissa_","type":"uint256"},{"name":"name_","type":"string"},{"name":"symbol_","type":"string"},{"name":"decimals_","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor","signature":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"interestAccumulated","type":"uint256"},{"indexed":false,"name":"borrowIndex","type":"uint256"},{"indexed":false,"name":"totalBorrows","type":"uint256"}],"name":"AccrueInterest","type":"event","signature":"0x875352fb3fadeb8c0be7cbbe8ff761b308fa7033470cd0287f02f3436fd76cb9"},{"anonymous":false,"inputs":[{"indexed":false,"name":"minter","type":"address"},{"indexed":false,"name":"mintAmount","type":"uint256"},{"indexed":false,"name":"mintTokens","type":"uint256"}],"name":"Mint","type":"event","signature":"0x4c209b5fc8ad50758f13e2e1088ba56a560dff690a1c6fef26394f4c03821c4f"},{"anonymous":false,"inputs":[{"indexed":false,"name":"redeemer","type":"address"},{"indexed":false,"name":"redeemAmount","type":"uint256"},{"indexed":false,"name":"redeemTokens","type":"uint256"}],"name":"Redeem","type":"event","signature":"0xe5b754fb1abb7f01b499791d0b820ae3b6af3424ac1c59768edb53f4ec31a929"},{"anonymous":false,"inputs":[{"indexed":false,"name":"borrower","type":"address"},{"indexed":false,"name":"borrowAmount","type":"uint256"},{"indexed":false,"name":"accountBorrows","type":"uint256"},{"indexed":false,"name":"totalBorrows","type":"uint256"}],"name":"Borrow","type":"event","signature":"0x13ed6866d4e1ee6da46f845c46d7e54120883d75c5ea9a2dacc1c4ca8984ab80"},{"anonymous":false,"inputs":[{"indexed":false,"name":"payer","type":"address"},{"indexed":false,"name":"borrower","type":"address"},{"indexed":false,"name":"repayAmount","type":"uint256"},{"indexed":false,"name":"accountBorrows","type":"uint256"},{"indexed":false,"name":"totalBorrows","type":"uint256"}],"name":"RepayBorrow","type":"event","signature":"0x1a2a22cb034d26d1854bdc6666a5b91fe25efbbb5dcad3b0355478d6f5c362a1"},{"anonymous":false,"inputs":[{"indexed":false,"name":"liquidator","type":"address"},{"indexed":false,"name":"borrower","type":"address"},{"indexed":false,"name":"repayAmount","type":"uint256"},{"indexed":false,"name":"cTokenCollateral","type":"address"},{"indexed":false,"name":"seizeTokens","type":"uint256"}],"name":"LiquidateBorrow","type":"event","signature":"0x298637f684da70674f26509b10f07ec2fbc77a335ab1e7d6215a4b2484d8bb52"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldPendingAdmin","type":"address"},{"indexed":false,"name":"newPendingAdmin","type":"address"}],"name":"NewPendingAdmin","type":"event","signature":"0xca4f2f25d0898edd99413412fb94012f9e54ec8142f9b093e7720646a95b16a9"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldAdmin","type":"address"},{"indexed":false,"name":"newAdmin","type":"address"}],"name":"NewAdmin","type":"event","signature":"0xf9ffabca9c8276e99321725bcb43fb076a6c66a54b7f21c4e8146d8519b417dc"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldComptroller","type":"address"},{"indexed":false,"name":"newComptroller","type":"address"}],"name":"NewComptroller","type":"event","signature":"0x7ac369dbd14fa5ea3f473ed67cc9d598964a77501540ba6751eb0b3decf5870d"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldInterestRateModel","type":"address"},{"indexed":false,"name":"newInterestRateModel","type":"address"}],"name":"NewMarketInterestRateModel","type":"event","signature":"0xedffc32e068c7c95dfd4bdfd5c4d939a084d6b11c4199eac8436ed234d72f926"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldReserveFactorMantissa","type":"uint256"},{"indexed":false,"name":"newReserveFactorMantissa","type":"uint256"}],"name":"NewReserveFactor","type":"event","signature":"0xaaa68312e2ea9d50e16af5068410ab56e1a1fd06037b1a35664812c30f821460"},{"anonymous":false,"inputs":[{"indexed":false,"name":"admin","type":"address"},{"indexed":false,"name":"reduceAmount","type":"uint256"},{"indexed":false,"name":"newTotalReserves","type":"uint256"}],"name":"ReservesReduced","type":"event","signature":"0x3bad0c59cf2f06e7314077049f48a93578cd16f5ef92329f1dab1420a99c177e"},{"anonymous":false,"inputs":[{"indexed":false,"name":"error","type":"uint256"},{"indexed":false,"name":"info","type":"uint256"},{"indexed":false,"name":"detail","type":"uint256"}],"name":"Failure","type":"event","signature":"0x45b96fe442630264581b197e84bbada861235052c5a1aadfff9ea4e40a969aa0"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"Transfer","type":"event","signature":"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"Approval","type":"event","signature":"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925"}]')},174:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"assetPrices","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x5e9a523c"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"getUnderlyingPrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x5e9a523c"}]')},175:function(e){e.exports=JSON.parse('[{"name":"NewExchange","inputs":[{"type":"address","name":"token","indexed":true},{"type":"address","name":"exchange","indexed":true}],"anonymous":false,"type":"event"},{"name":"initializeFactory","outputs":[],"inputs":[{"type":"address","name":"template"}],"constant":false,"payable":false,"type":"function","gas":35725},{"name":"createExchange","outputs":[{"type":"address","name":"out"}],"inputs":[{"type":"address","name":"token"}],"constant":false,"payable":false,"type":"function","gas":187911},{"name":"getExchange","outputs":[{"type":"address","name":"out"}],"inputs":[{"type":"address","name":"token"}],"constant":true,"payable":false,"type":"function","gas":715},{"name":"getToken","outputs":[{"type":"address","name":"out"}],"inputs":[{"type":"address","name":"exchange"}],"constant":true,"payable":false,"type":"function","gas":745},{"name":"getTokenWithId","outputs":[{"type":"address","name":"out"}],"inputs":[{"type":"uint256","name":"token_id"}],"constant":true,"payable":false,"type":"function","gas":736},{"name":"exchangeTemplate","outputs":[{"type":"address","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":633},{"name":"tokenCount","outputs":[{"type":"uint256","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":663}]')},176:function(e){e.exports=JSON.parse('[{"name":"TokenPurchase","inputs":[{"type":"address","name":"buyer","indexed":true},{"type":"uint256","name":"eth_sold","indexed":true},{"type":"uint256","name":"tokens_bought","indexed":true}],"anonymous":false,"type":"event"},{"name":"EthPurchase","inputs":[{"type":"address","name":"buyer","indexed":true},{"type":"uint256","name":"tokens_sold","indexed":true},{"type":"uint256","name":"eth_bought","indexed":true}],"anonymous":false,"type":"event"},{"name":"AddLiquidity","inputs":[{"type":"address","name":"provider","indexed":true},{"type":"uint256","name":"eth_amount","indexed":true},{"type":"uint256","name":"token_amount","indexed":true}],"anonymous":false,"type":"event"},{"name":"RemoveLiquidity","inputs":[{"type":"address","name":"provider","indexed":true},{"type":"uint256","name":"eth_amount","indexed":true},{"type":"uint256","name":"token_amount","indexed":true}],"anonymous":false,"type":"event"},{"name":"Transfer","inputs":[{"type":"address","name":"_from","indexed":true},{"type":"address","name":"_to","indexed":true},{"type":"uint256","name":"_value","indexed":false}],"anonymous":false,"type":"event"},{"name":"Approval","inputs":[{"type":"address","name":"_owner","indexed":true},{"type":"address","name":"_spender","indexed":true},{"type":"uint256","name":"_value","indexed":false}],"anonymous":false,"type":"event"},{"name":"setup","outputs":[],"inputs":[{"type":"address","name":"token_addr"}],"constant":false,"payable":false,"type":"function","gas":175875},{"name":"addLiquidity","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"min_liquidity"},{"type":"uint256","name":"max_tokens"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":true,"type":"function","gas":82616},{"name":"removeLiquidity","outputs":[{"type":"uint256","name":"out"},{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"amount"},{"type":"uint256","name":"min_eth"},{"type":"uint256","name":"min_tokens"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":false,"type":"function","gas":116814},{"name":"__default__","outputs":[],"inputs":[],"constant":false,"payable":true,"type":"function"},{"name":"ethToTokenSwapInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"min_tokens"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":true,"type":"function","gas":12757},{"name":"ethToTokenTransferInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"min_tokens"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"}],"constant":false,"payable":true,"type":"function","gas":12965},{"name":"ethToTokenSwapOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":true,"type":"function","gas":50463},{"name":"ethToTokenTransferOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"}],"constant":false,"payable":true,"type":"function","gas":50671},{"name":"tokenToEthSwapInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_eth"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":false,"type":"function","gas":47503},{"name":"tokenToEthTransferInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_eth"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"}],"constant":false,"payable":false,"type":"function","gas":47712},{"name":"tokenToEthSwapOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"eth_bought"},{"type":"uint256","name":"max_tokens"},{"type":"uint256","name":"deadline"}],"constant":false,"payable":false,"type":"function","gas":50175},{"name":"tokenToEthTransferOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"eth_bought"},{"type":"uint256","name":"max_tokens"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"}],"constant":false,"payable":false,"type":"function","gas":50384},{"name":"tokenToTokenSwapInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_tokens_bought"},{"type":"uint256","name":"min_eth_bought"},{"type":"uint256","name":"deadline"},{"type":"address","name":"token_addr"}],"constant":false,"payable":false,"type":"function","gas":51007},{"name":"tokenToTokenTransferInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_tokens_bought"},{"type":"uint256","name":"min_eth_bought"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"},{"type":"address","name":"token_addr"}],"constant":false,"payable":false,"type":"function","gas":51098},{"name":"tokenToTokenSwapOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"max_tokens_sold"},{"type":"uint256","name":"max_eth_sold"},{"type":"uint256","name":"deadline"},{"type":"address","name":"token_addr"}],"constant":false,"payable":false,"type":"function","gas":54928},{"name":"tokenToTokenTransferOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"max_tokens_sold"},{"type":"uint256","name":"max_eth_sold"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"},{"type":"address","name":"token_addr"}],"constant":false,"payable":false,"type":"function","gas":55019},{"name":"tokenToExchangeSwapInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_tokens_bought"},{"type":"uint256","name":"min_eth_bought"},{"type":"uint256","name":"deadline"},{"type":"address","name":"exchange_addr"}],"constant":false,"payable":false,"type":"function","gas":49342},{"name":"tokenToExchangeTransferInput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"},{"type":"uint256","name":"min_tokens_bought"},{"type":"uint256","name":"min_eth_bought"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"},{"type":"address","name":"exchange_addr"}],"constant":false,"payable":false,"type":"function","gas":49532},{"name":"tokenToExchangeSwapOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"max_tokens_sold"},{"type":"uint256","name":"max_eth_sold"},{"type":"uint256","name":"deadline"},{"type":"address","name":"exchange_addr"}],"constant":false,"payable":false,"type":"function","gas":53233},{"name":"tokenToExchangeTransferOutput","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"},{"type":"uint256","name":"max_tokens_sold"},{"type":"uint256","name":"max_eth_sold"},{"type":"uint256","name":"deadline"},{"type":"address","name":"recipient"},{"type":"address","name":"exchange_addr"}],"constant":false,"payable":false,"type":"function","gas":53423},{"name":"getEthToTokenInputPrice","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"eth_sold"}],"constant":true,"payable":false,"type":"function","gas":5542},{"name":"getEthToTokenOutputPrice","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_bought"}],"constant":true,"payable":false,"type":"function","gas":6872},{"name":"getTokenToEthInputPrice","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"tokens_sold"}],"constant":true,"payable":false,"type":"function","gas":5637},{"name":"getTokenToEthOutputPrice","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"uint256","name":"eth_bought"}],"constant":true,"payable":false,"type":"function","gas":6897},{"name":"tokenAddress","outputs":[{"type":"address","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1413},{"name":"factoryAddress","outputs":[{"type":"address","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1443},{"name":"balanceOf","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"address","name":"_owner"}],"constant":true,"payable":false,"type":"function","gas":1645},{"name":"transfer","outputs":[{"type":"bool","name":"out"}],"inputs":[{"type":"address","name":"_to"},{"type":"uint256","name":"_value"}],"constant":false,"payable":false,"type":"function","gas":75034},{"name":"transferFrom","outputs":[{"type":"bool","name":"out"}],"inputs":[{"type":"address","name":"_from"},{"type":"address","name":"_to"},{"type":"uint256","name":"_value"}],"constant":false,"payable":false,"type":"function","gas":110907},{"name":"approve","outputs":[{"type":"bool","name":"out"}],"inputs":[{"type":"address","name":"_spender"},{"type":"uint256","name":"_value"}],"constant":false,"payable":false,"type":"function","gas":38769},{"name":"allowance","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"address","name":"_owner"},{"type":"address","name":"_spender"}],"constant":true,"payable":false,"type":"function","gas":1925},{"name":"name","outputs":[{"type":"bytes32","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1623},{"name":"symbol","outputs":[{"type":"bytes32","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1653},{"name":"decimals","outputs":[{"type":"uint256","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1683},{"name":"totalSupply","outputs":[{"type":"uint256","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1713}]')},177:function(e){e.exports=JSON.parse('[{"constant":false,"inputs":[{"name":"owner_","type":"address"}],"name":"setOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"wut","type":"bytes32"}],"name":"poke","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"read","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"peek","outputs":[{"name":"","type":"bytes32"},{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"authority_","type":"address"}],"name":"setAuthority","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"void","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"authority","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"anonymous":true,"inputs":[{"indexed":true,"name":"sig","type":"bytes4"},{"indexed":true,"name":"guy","type":"address"},{"indexed":true,"name":"foo","type":"bytes32"},{"indexed":true,"name":"bar","type":"bytes32"},{"indexed":false,"name":"wad","type":"uint256"},{"indexed":false,"name":"fax","type":"bytes"}],"name":"LogNote","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"authority","type":"address"}],"name":"LogSetAuthority","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"}],"name":"LogSetOwner","type":"event"}]')},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){"use strict";a.r(t);a(88);var n=a(0),s=a.n(n),i=a(34),u=a.n(i),r=a(5),o=a(26),l=a(78),p=a(1),c=a(2),d=a(3),m=a(79),y=a.n(m),f=a(54),b=a.n(f),_=a(51),h=a.n(_);function g(e){return[e.from_asset,e.to_asset,e.amount,e.is_input_active].join("-")}function v(e){return new Promise((function(t){return setTimeout(t,e)}))}var w=a(49),x=a(15),k=a(169),E=a(170),M=a(171),T=a(172),O=a(173),P=a(174),N=a(175),A=a(176),S=a(177),D="0x729D19f657BD0614b4985Cf1D82531c67569197B",j="0x1a099e2d91f537fae5523f57d182ce522aa9780c",C="0x3d9819210a31b4961b30ef54be2aed79b9c9cd3b",F="0xc0a47dFe034B400B47bDaD5FecDa2621de6c4d95",I=w("57896044618658097711785492504343953926634992332820282019728792003956564819967"),B=E.find((function(e){return"Trade"===e.name}));function R(e,t){var a;t=t||2500;var n=0,s=null,i=this;return function(){var u=i._store.getState().wallet.address;return u===a&&(!n||Date.now()-n<t)?s:(a=u,s=e.apply(this,arguments).catch((function(e){throw s=null,e})).then((function(e){return n=Date.now(),e})))}}var q=function(){function e(t){var a=this;Object(c.a)(this,e),this._store=t;var n=this._ethereum=window.ethereum,s="undefined"!==typeof n;this._erc20_assets={},this._ctoken_assets={},this._pending_tasks=[];var i=R.bind(this);this._refreshAssets=i(this._refreshAssets.bind(this)),this._refreshMargin=i(this._refreshMargin.bind(this)),setTimeout((function(){var e=t.dispatch;if(s){a._eth=new y.a(n),a._contract=new h.a(a._eth),a._margin_parent=a._contract(k).at(j),a._comptroller=a._contract(M).at(C),a._uniswap_factory=a._contract(N).at(F),a._eth_price_oracle=a._contract(S).at(D),a._comptroller.oracle().then((function(e){return e[0]})).then((function(e){if("0x"===e)throw new Error("got invalid oracle_address");a._oracle=a._contract(P).at(e)})).then((function(){e({type:"wallet-has3"}),n.selectedAddress&&e({type:"wallet-address",address:n.selectedAddress}),n.on("accountsChanged",(function(t){a._pending_tasks=[],e({type:"wallet-address",address:t[0]})}))})).then((function(){return a._refreshEthPrice()}));!function e(){return a._refreshEthPrice().then((function(){return a._updatePendingTasks()})).then((function(){return v(3e3).then(e)})).catch((function(t){return v(1e4).then(e)}))}()}else e({type:"wallet-has-no3"})}),0)}return Object(d.a)(e,[{key:"_loadTrades",value:function(){var e=this,t=this._store.getState(),a=t.wallet.margin_address,n=t.trades.last_block,s=Object.keys(t.assets).map((function(e){return t.assets[e]}));return this._eth.getLogs({fromBlock:n+1,toBlock:"latest",address:a}).then((function(t){var a=n,i=t.map((function(e,t){var n=b.a.decodeLogItem(B,e),i=+e.blockNumber;a=Math.max(a,i);var u=s.find((function(e){return e.asset_address===n.from_asset})),r=s.find((function(e){return e.asset_address===n.to_asset})),o=n.input,l=n.input_fee,p=n.output;return w.DP=u.decimals,o=w(o).div(w(10).pow(w.DP)).toFixed(w.DP),w.DP=u.decimals,l=w(l).div(w(10).pow(w.DP)).toFixed(w.DP),w.DP=r.decimals,p=w(p).div(w(10).pow(w.DP)).toFixed(w.DP),{key:i+"-"+t,block_number:i,from_asset:u.symbol,to_asset:r.symbol,input_amount:o,output_amount:p,input_fee:l}}));0===a&&(a=1),e._store.dispatch({type:"add-trades",block:a,trades:i})}))}},{key:"_refreshEthPrice",value:function(){var e=this;return this._eth_price_oracle.read().then((function(e){return e[0]})).then((function(t){w.DP=18;var a=w(t).div(w(10).pow(w.DP)).toFixed(w.DP);e._store.dispatch({type:"set-eth-price",price:a})}))}},{key:"_refreshWalletBalance",value:function(e){var t=this;return this._getWalletBalance(e).then((function(a){return t._store.dispatch({type:"set-wallet-balance",asset:e,data:a}),a}))}},{key:"_getWalletBalance",value:function(e){var t=this._store.getState(),a=t.wallet.address,n=t.wallet.margin_address,s=this._store.getState().assets[e];if(!a)return Promise.reject(new Error("wallet is not connected"));if("ETH"===e)return this._eth.getBalance(a).then((function(e){return w.DP=18,{balance:e=w(e).div(w(10).pow(w.DP)).toFixed(w.DP),unlocked:!0}}));if(!s)return Promise.reject(new Error("could not find asset",e));if(!n)return Promise.reject(new Error("wallet has not loaded margin address",e));var i=this._erc20(s.asset_address);return Promise.all([i.balanceOf(a).then((function(e){return e[0]})),i.allowance(a,n).then((function(e){return e[0]}))]).then((function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];return w.DP=s.decimals,{balance:a=w(a).div(w(10).pow(w.DP)).toFixed(w.DP),unlocked:I.lt(n)}}))}},{key:"_run",value:function(e,t){var a=this;if(!this._ethereum)return Promise.reject(new Error("ethereum not setup"));var n,s=this._store.getState().wallet.processing;return this._store.getState().wallet.processing?Promise.reject(new Error(s+", currently processing")):(this._store.dispatch({type:"wallet-processing",processing:e}),t(this._store.getState().wallet.address).catch((function(e){console.error(e),n=e})).then((function(e){if(a._store.dispatch({type:"wallet-processing",processing:null}),n)throw n;return e})))}},{key:"_refreshMargin",value:function(){var e=this,t=this._store.getState().wallet.margin_address;return this._comptroller.getAccountLiquidity(t).then((function(e){var t=+e[0],a=e[1],n=e[2];if(t){var s=new Error("failed to get account liquidity");throw s.code=t,s}return a=w(a),n=w(n),a.eq(0)?w(0).sub(n):a})).then((function(t){w.DP=18,t=t.div(w(10).pow(w.DP)).toFixed(w.DP),e._store.dispatch({type:"set-liquidity",liquidity:t})}))}},{key:"_getAssetsIn",value:function(){var e=this._store.getState().wallet.margin_address;return e?this._comptroller.getAssetsIn(e).then((function(e){return e[0]})).then((function(e){var t={};return e.forEach((function(e){t[e]=!0})),t})):Promise.resolve({})}},{key:"_refreshAssets",value:function(){var e=this,t={};return this._getAssetsIn().then((function(a){var n=Object.keys(x).map((function(n){var s,i,u,r,o,l,p,c=x[n].compound_address,d=e._cToken(c);return d.underlying().then((function(e){return e[0]})).then((function(t){return s=t,"ETH"===n?(s="0x0000000000000000000000000000000000000000",18):e._erc20(s).decimals().then((function(e){return e[0]}))})).then((function(t){return l=+t,e._oracle.getUnderlyingPrice(c).then((function(e){return e[0]}))})).then((function(e){return i=e,d.borrowRatePerBlock().then((function(e){return e[0]}))})).then((function(e){return r=e,d.supplyRatePerBlock().then((function(e){return e[0]}))})).then((function(t){return u=t,e._comptroller.markets(c).then((function(e){return e[1]}))})).then((function(t){return o=t,"ETH"===n?e._eth.getBalance(j):e._erc20(s).balanceOf(j).then((function(e){return e[0]}))})).then((function(e){return p=e,null})).then((function(){w.DP=18,i=w(i).div(w(10).pow(w.DP+18-l)).toFixed(w.DP),w.DP=18,u=w(u).mul(2102400).div(w(10).pow(w.DP)).toFixed(w.DP),w.DP=18,r=w(r).mul(2102400).div(w(10).pow(w.DP)).toFixed(w.DP),w.DP=18,o=w(o).div(w(10).pow(w.DP)).toFixed(w.DP),w.DP=l,p=w(p).div(w(10).pow(w.DP)).toFixed(w.DP),t[n]={symbol:n,in_market:!!a[c],compound_address:c,asset_address:s,asset_price:i,supply_rate:u,borrow_rate:r,collateral_factor:o,decimals:l,margin_parent_balance:p}}))}));return Promise.all(n).then((function(){return e._store.dispatch({type:"set-assets",assets:t}),t}))}))}},{key:"_refreshBalances",value:function(e){var t=this,a=this._store.getState().wallet.margin_address,n={},s=Object.keys(e).map((function(s){var i,u,r,o=e[s],l=t._cToken(o.compound_address);return l.balanceOf(a).then((function(e){return e[0]})).then((function(e){return i=e,l.exchangeRateStored().then((function(e){return e[0]}))})).then((function(e){return u=e,l.borrowBalanceStored(a).then((function(e){return e[0]}))})).then((function(e){return r=e,"ETH"===s?w(10).pow(18).toFixed(0):null})).then((function(){w.DP=o.decimals,r=w(r).div(w(10).pow(w.DP)).toFixed(w.DP),w.DP=o.decimals,i=w(i).mul(u).div(w(10).pow(w.DP+18)).toFixed(w.DP),n[s]={borrow_balance:r,compound_balance:i}}))}));return Promise.all(s).then((function(){t._store.dispatch({type:"set-balances",balances:n})})).then((function(){return t._refreshMargin()})).then((function(){return t._loadTrades()}))}},{key:"_waitForTx",value:function(e){return e.then((function(e){return e}))}},{key:"_retry",value:function(e){return e()}},{key:"_erc20",value:function(e){var t=this._erc20_assets[e];return t||(this._erc20_assets[e]=this._contract(T).at(e))}},{key:"_cToken",value:function(e){var t=this._ctoken_assets[e];return t||(this._ctoken_assets[e]=this._contract(O).at(e))}},{key:"_updatePendingTasks",value:function(){var e=this;return Promise.all(this._pending_tasks.filter((function(e){return!e.is_done})).map((function(t){t.check().then((function(a){a&&(t.is_done=!0,t.onDone&&t.onDone(),e._store.dispatch({type:"task-done",id:t.id}))}))})))}},{key:"handle",value:function(e){var t=this;switch(e.type){case"trigger-wallet-balance-load":this._refreshWalletBalance(e.asset);break;case"trigger-unlock":var a=this._store.getState(),n=a.wallet,s=n.address,i=n.margin_address,u=a.assets[e.asset];this._erc20(u.asset_address).approve(i,"-1",{from:s}).then((function(e){t._trackTask({code:"unlock",tx_hash:e,data:u.symbol},(function(){return t._refreshWalletBalance(u.symbol).then((function(e){return e.unlocked}))}))}));break;case"trigger-trade":var r=this._store.getState(),o=e.data;this._uniswapTradeData(o).then((function(e){return t._margin.trade(r.assets[o.from_asset].asset_address,e.input,r.assets[o.to_asset].asset_address,e.min_output,e.trade_address,e.trade_data,{from:r.wallet.address})})).then((function(e){t._trackTask({code:"trade",tx_hash:e,data:{from:o.from_asset,to:o.to_asset}},t._isTxDone(e))})).catch((function(e){console.error("failed to trade",e)}));break;case"trigger-wallet-connect":this._run("Connecting",(function(){return t._ethereum.enable()}));break;case"trigger-margin-enable":this._run("Enable margin",(function(e){return t._margin_parent.setupMargin({from:e})})).then((function(e){t._trackTask({code:"enable-margin",tx_hash:e},t._reloadWallet.bind(t))}));break;case"trigger-enable-assets":this._run("Enable assets",(function(a){var n=e.assets.map((function(e){return x[e]})).map((function(e){return e.compound_address}));return t._margin.enterMarkets(n,{from:a}).then((function(a){t._trackTask({code:"enable-asset",tx_hash:a,data:e.assets},(function(){return t._refreshAssets().then((function(){var a=t._store.getState().assets;return!e.assets.find((function(e){return!a[e].in_market}))}))}))}))}));break;case"trigger-margin-withdraw":var l=e.symbol,p=e.amount,c=this._cToken(x[l].compound_address),d=null;c.underlying().then((function(e){if(d=e[0],"ETH"!==l)return t._erc20(d).decimals().then((function(e){p=w(p).mul(w(10).pow(+e[0])).toFixed(0)}));d="0x0000000000000000000000000000000000000000",p=w(p).mul(w(10).pow(18)).toFixed(0)})).then((function(){var e=t._store.getState().wallet.address;return t._margin.withdraw(d,p,e,{from:e})})).then((function(e){t._trackTask({code:"withdraw",tx_hash:e,data:l},t._isTxDone(e))}));break;case"trigger-margin-deposit":var m=e.symbol,y=e.amount,f=this._cToken(x[m].compound_address),b="0";f.underlying().then((function(e){return e=e[0],"ETH"!==m?t._erc20(e).decimals().then((function(e){y=w(y).mul(w(10).pow(+e[0])).toFixed(0)})):(e="0x0000000000000000000000000000000000000000",y=w(y).mul(w(10).pow(18)).toFixed(0),b=y,e)})).then((function(e){var a=t._store.getState().wallet.address;return t._margin.deposit(e,y,{from:a,value:b})})).then((function(e){t._store.getState().balances[m];t._trackTask({code:"deposit",tx_hash:e,data:m},t._isTxDone(e))}))}}},{key:"_isTxDone",value:function(e){var t=this;return function(){return t._eth.getTransactionByHash(e).then((function(e){return!(!e||!e.blockNumber)&&v(1e3).then((function(){return t._refreshBalances(t._store.getState().assets)})).then((function(){return!0}))}))}}},{key:"_trackTask",value:function(e,t){var a=Date.now()+"-"+Math.random();this._store.dispatch({type:"track-task",task:{code:e.code,tx_hash:e.tx_hash,data:e.data,id:a,is_done:!1}});var n={id:a,is_done:!1,check:t};this._pending_tasks.push(n)}},{key:"postHandle",value:function(e,t){switch(e.type){case"set-trade":return this._triggerCalcTrade();case"wallet-address":return this._reloadWallet()}}},{key:"_reloadWallet",value:function(){var e=this,t=this._store.getState().wallet.address;return this._retry((function(){return e._margin_parent.isMarginSetup(t)})).then((function(a){var n=e._store.getState();return n.wallet.address===t&&(n.wallet.margin_address===a.margin_address&&n.wallet.margin_setup===a.enabled?a.enabled:(e._store.dispatch({type:"wallet-margin",address:t,margin_address:a.margin_contract,margin_setup:a.enabled}),e._margin=e._contract(E).at(a.margin_contract),e._comptroller=e._contract(M).at(C),e._comptroller.oracle().then((function(e){return e[0]})).then((function(t){return e._oracle=e._contract(P).at(t),!!a.enabled&&v(100).then((function(){return e._refreshAssets()})).then((function(t){return e._refreshBalances(t)})).then((function(){return e._refreshMargin()})).then((function(){return!0}))}))))}))}},{key:"_triggerCalcTrade",value:function(){var e=this,t=this._store.getState(),a=g(t.trade);if(a!==this._trade_calc_key){if(this._trade_calc_key=a,0===+t.trade.amount)return this._store.dispatch({type:"trade-calculated",key:a,calculated:null});clearTimeout(this._trade_calc_tid),this._trade_calc_tid=setTimeout((function(){e._calculateTrade(t.trade).then((function(t){e._store.dispatch({type:"trade-calculated",key:a,calculated:t})}))}),500)}}},{key:"_uniswapExactInput",value:function(e,t,a){var n=w(a).mul(t).mul(997),s=w(e).mul(1e3).add(w(a).mul(997));return w.DP=0,w.RM=0,n.div(s)}},{key:"_uniswapExactOutput",value:function(e,t,a){var n=w(a).mul(e).mul(1e3),s=w(t).sub(a).mul(997);return w.DP=0,w.RM=0,n.div(s).add(1)}},{key:"_uniswapTradeData",value:function(e){var t=this;if(!e.calculated)return Promise.reject(new Error("calcualted not loaded yet"));var a=this._store.getState(),n=e.from_asset,s=e.to_asset,i=a.assets[n],u=a.assets[s];return new Promise((function(e){return e(1e10)})).then((function(t){var a=null,r=null,o=w("0.5");return e.is_input_active?(a=w(e.amount).mul(w(10).pow(i.decimals)).toFixed(0),r=w(e.calculated).mul(o).mul(w(10).pow(u.decimals)).toFixed(0)):(a=w(e.calculated).mul(w(10).pow(i.decimals)).toFixed(0),r=w(e.amount).mul(o).mul(w(10).pow(u.decimals)).toFixed(0)),"ETH"===n?{exchange_address:u.asset_address,fn_name:"ethToTokenSwapInput",eth_value:a,fn_args:[r,t],input:a,min_output:r}:"ETH"===s?{exchange_address:i.asset_address,fn_name:"tokenToEthSwapInput",eth_value:"0",fn_args:[a,r,t],input:a,min_output:r}:{exchange_address:i.asset_address,fn_name:"tokenToTokenSwapInput",eth_value:"0",fn_args:[a,r,"1",t,u.asset_address],input:a,min_output:r}})).then((function(e){var t=A.find((function(t){return t.name===e.fn_name})),a=b.a.encodeMethod(t,e.fn_args);return{trade_asset_address:e.exchange_address,trade_data:a,eth_value:e.eth_value,input:e.input,min_output:e.min_output}})).then((function(e){return t._uniswap_factory.getExchange(e.trade_asset_address).then((function(e){return e[0]})).then((function(t){return e.trade_address=t,e}))})).then((function(e){return e}))}},{key:"_uniswapGetReserve",value:function(e){var t=this;if("ETH"===e)return Promise.resolve(null);var a=this._store.getState().assets[e].asset_address;return this._uniswap_factory.getExchange(a).then((function(e){return e[0]})).then((function(n){if("0x"===n)throw new Error("exchange does not exist for "+e);return Promise.all([t._eth.getBalance(n),t._erc20(a).balanceOf(n).then((function(e){return e[0]}))]).then((function(e){var t=Object(p.a)(e,2),a=t[0],s=t[1];return{exchange_address:n,eth_balance:a,token_balance:s}}))}))}},{key:"_calculateTrade",value:function(e){var t=this,a=this._store.getState(),n=a.assets[e.from_asset],s=a.assets[e.to_asset];return Promise.all([this._uniswapGetReserve(e.from_asset),this._uniswapGetReserve(e.to_asset)]).then((function(a){var i=Object(p.a)(a,2),u=i[0],r=i[1];if(e.is_input_active){var o=null;if(null===u)o=w(e.amount).mul(w(10).pow(18));else{var l=w(e.amount).mul(w(10).pow(n.decimals));o=t._uniswapExactInput(u.token_balance,u.eth_balance,l)}if(null===r)return w.DP=18,o.div(w(10).pow(w.DP)).toFixed(w.DP);var c=t._uniswapExactInput(r.eth_balance,r.token_balance,o);return w.DP=s.decimals,c.div(w(10).pow(w.DP)).toFixed(w.DP)}var d=null;if(null===r)d=w(e.amount).mul(w(10).pow(18));else{var m=w(e.amount).mul(w(10).pow(s.decimals));d=t._uniswapExactOutput(r.eth_balance,r.token_balance,m)}if(null===u)return w.DP=18,d.div(w(10).pow(w.DP)).toFixed(w.DP);var y=t._uniswapExactOutput(u.token_balance,u.eth_balance,d);return w.DP=n.decimals,y.div(w(10).pow(w.DP)).toFixed(w.DP)}))}}]),e}(),L=a(35),W=a(12);function H(e){return e.replace(/\s/g,"").replace(/[^0-9.]/g,"").replace(/([0-9]*\.[0-9]*)\.+([0-9]*)/g,"$1$2")}function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach((function(t){Object(W.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U={eth_price:"200",wallet:{loading:!0,has_web3:!1,address:null,processing:null,margin_address:null,margin_setup:!1},tracked_tasks:[],assets:{},balances:{},wallet_balances:{},liquidity:null,trade:{from_asset:"DAI",to_asset:"ETH",amount:"",is_input_active:!0,max_input:"",calculated:null},trades:{last_block:0,items:[]}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add-trades":return z({},e,{trades:{last_block:t.block,items:[].concat(Object(L.a)(e.trades.items),Object(L.a)(t.trades))}});case"set-eth-price":return z({},e,{eth_price:t.price});case"trigger-wallet-balance-load":return z({},e,{wallet_balances:z({},e.wallet_balances,Object(W.a)({},t.asset,z({},e.wallet_balances[t.asset],{loading:!0})))});case"set-wallet-balance":return z({},e,{wallet_balances:z({},e.wallet_balances,Object(W.a)({},t.asset,t.data))});case"track-task":return z({},e,{tracked_tasks:[].concat(Object(L.a)(e.tracked_tasks),[t.task])});case"task-done":var a=[];return e.tracked_tasks.forEach((function(e){e.id===t.id?a.push(z({},e,{is_done:!0})):a.push(e)})),z({},e,{tracked_tasks:a});case"set-trade":var n=t.data.amount,s=z({},e.trade,{},t.data),i=void 0!==n;return e.trade.is_input_active!==s.is_input_active&&(s.amount=t.data.amount||e.trade.calculated||"",i=!0),i&&(n=H(s.amount),s.amount=n),s.from_asset===s.to_asset&&(e.trade.from_asset!==s.from_asset?s.to_asset=e.trade.from_asset:s.from_asset=e.trade.to_asset),g(s)!==g(e.trade)&&(s.calculated=null),z({},e,{trade:s});case"trade-calculated":return g(e.trade)!==t.key?e:z({},e,{trade:z({},e.trade,{calculated:t.calculated})});case"set-balances":return z({},e,{balances:t.balances});case"set-assets":return z({},e,{assets:t.assets});case"set-liquidity":return z({},e,{liquidity:t.liquidity});case"wallet-has-no3":return z({},e,{wallet:z({},e.wallet,{loading:!1})});case"wallet-has3":return z({},e,{wallet:z({},e.wallet,{loading:!1,has_web3:!0})});case"wallet-address":return z({},e,{wallet:z({},e.wallet,{address:t.address}),account:z({},U.account),balances:{},liquidity:null,tracked_tasks:[],trades:{last_block:0,items:[]}});case"wallet-processing":return z({},e,{wallet:z({},e.wallet,{processing:t.processing})});case"wallet-margin":return t.address!==e.wallet.address?(console.error("got margin data for a different wallet address"),e):z({},e,{wallet:z({},e.wallet,{margin_address:t.margin_address,margin_setup:t.margin_setup})});default:return e}},$=Object(o.a)(l.a,(function(e){return function(t){var a=new q(e);return window._eth_manager=a,function(n){a&&a.handle(n);var s=e.getState();t(n),a&&a.postHandle(n,s)}}})),G=Object(o.c)(J,$),X=a(8),Z=a(7),K=a(9);a(178),a(179);function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Y=a(49),ee=a(15),te=Object.keys(ee),ae={};function ne(e,t,a){var n=ae[e];if(n){var s;for(s=0;s<n.state.length&&n.state[s]===t[s];++s);if(s===n.state.length)return n.result}return n||(n={},ae[e]=n),n.state=t,n.result=a(t),n.result}function se(e){return ne("trades",[e.trades,e.assets],(function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];return{loading:0===a.last_block,items:a.items.map((function(e){var t=n[e.from_asset],a=n[e.to_asset],s=Y(e.input_amount).add(e.input_fee),i=Y(e.output_amount);Y.DP=18;var u=s.div(i);return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach((function(t){Object(W.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{performance:Y(a.asset_price).div(t.asset_price).sub(u).div(u).mul(100).toFixed(2)})}))}}))}function ie(e){return ne("assets",[e.assets],(function(e){var t=Object(p.a)(e,1)[0];return Object.keys(t).map((function(e){return t[e]}))}))}function ue(e,t){return ne("pending",[e.tracked_tasks,t],(function(e){return Object(p.a)(e,1)[0].filter((function(e){return!e.is_done&&t(e)}))}))}function re(e){return ne("enable-asset-pending",[ue(e,(function(e){return"enable-asset"===e.code}))],(function(e){var t=Object(p.a)(e,1)[0],a={};return t.forEach((function(e){e.data.forEach((function(e){a[e]=!0}))})),a}))}function oe(e){return ne("wallet",[e.wallet],(function(e){var t=Object(p.a)(e,1)[0];return t.loading?{processing:"Loading"}:{has_web3:t.has_web3,address:t.address,connected:!!t.address,processing:t.processing,margin_address:t.margin_address,margin_setup:t.margin_setup,loading:t.address&&!t.margin_address}}))}function le(e){return e.wallet.address&&e.wallet.margin_setup}function pe(e,t){var a=Object.keys(e),n=Object.keys(t);return a.length!=n.length||n.length!==te.length}function ce(e){return ne("balances",[e.balances,e.assets,e.eth_price],(function(e){var t=Object(p.a)(e,3),a=t[0],n=t[1],s=t[2],i=[];return pe(a,n)?{loading:!0,items:i}:(Object.keys(a).forEach((function(e){var t=a[e],u=n[e],r=Y(t.compound_balance).sub(t.borrow_balance).toFixed(u.decimals),o=Y(r).mul(n[e].asset_price).mul(s);i.push({symbol:e,net_balance:r,net_value_full:o,net_value:o.toFixed(2),in_market:u.in_market})})),i.sort((function(e,t){return+t.net_value-+e.net_value})),{loading:!1,items:i})}))}function de(e){return ne("total-value",[ce(e)],(function(e){var t=Object(p.a)(e,1)[0];if(t.loading)return{loading:!0};var a=Y(0);return t.items.forEach((function(e){a=a.add(e.net_value_full)})),{loading:!1,value:a.toFixed(2)}}))}function me(e){return ne("margin",[e.liquidity,e.eth_price],(function(t){var a=Object(p.a)(t,2),n=a[0];a[1];return null===n?{loading:!0}:{loading:!1,value:Y(n).mul(e.eth_price).toFixed(2),eth_value:n}}))}function ye(e){return ne("interest",[e.assets,e.balances,e.eth_price],(function(e){var t=Object(p.a)(e,3),a=t[0],n=t[1],s=t[2];if(pe(n,a))return{loading:!0,paying:!1,amount:"0",rate:"0"};var i=Y(0),u=Y(0),r=Y(0);return Object.keys(n).forEach((function(e){var t=n[e],s=t.borrow_balance,o=t.compound_balance,l=a[e],p=l.supply_rate,c=l.borrow_rate,d=l.asset_price,m=Y(s).mul(c).mul(d),y=Y(o).mul(p).mul(d),f=Y(o).sub(s).mul(d);f.gt(0)?r=r.add(f):u=u.add(f),i=i.add(y).sub(m)})),i.lt(0)?(Y.DP=18,{loading:!1,paying:!0,amount:u.mul(s).toFixed(2),rate:i.div(u).mul(100).toFixed(2)}):{loading:!1,paying:!1,amount:r.mul(s).toFixed(2),rate:r.eq(0)?"0.00":i.div(r).mul(100).toFixed(2)}}))}function fe(e){var t=e.trade,a=t.from_asset,n=t.to_asset;return ne("trade",[e.trade,e.assets[a],e.assets[n],e.liquidity],(function(e){var t=Object(p.a)(e,4),s=t[0],i=t[1],u=t[2],r=t[3];if(!i||!u||!r)return{loading:!0,input:{symbol:a,value:"",placeholder:"0.0",loading:!1},output:{symbol:n,value:"",placeholder:"0.0",loading:!1}};if(!u.in_market){var o="";return s.is_input_active&&(o=s.amount),{loading:!1,input:{symbol:a,value:o,placeholder:"0.0",loading:!1},output:{symbol:"-",value:"",placeholder:"0.0",loading:!1},is_input_active:s.is_input_active}}Y.DP=18;var l=Y(r).div(Y(i.asset_price).mul(Y(1).sub(Y(.9).mul(u.collateral_factor))));l.gt(i.margin_parent_balance)&&(l=Y(i.margin_parent_balance)),Y.RM=0,Y.NE=-1e13,Y.PE=1e13,l=l.toPrecision(5);var c={from_asset:a,to_asset:n,is_input_active:s.is_input_active};return s.is_input_active?(c.input={symbol:a,value:s.amount,placeholder:"0.0"},c.output={symbol:n,value:"",placeholder:+s.amount&&!s.calculated?"loading":s.calculated||"0.0"}):(c.output={symbol:n,value:s.amount,placeholder:"0.0"},c.input={symbol:a,value:"",placeholder:+s.amount&&!s.calculated?"loading":s.calculated||"0.0"}),c.input.max=l,c.input.max_selected=!Y(+c.input.value?c.input.value:"0").lt(l),c}))}function be(e,t){return{type:"trigger-margin-deposit",symbol:e,amount:t}}a(180);var _e=function(){return s.a.createElement("div",{className:"Spinner"},s.a.createElement("div",{className:"sk-folding-cube"},s.a.createElement("div",{className:"sk-cube1 sk-cube"}),s.a.createElement("div",{className:"sk-cube2 sk-cube"}),s.a.createElement("div",{className:"sk-cube4 sk-cube"}),s.a.createElement("div",{className:"sk-cube3 sk-cube"})))},he=function(e){return"enable-margin"===e.code},ge=Object(r.b)((function(e){return{wallet:oe(e),pending:ue(e,he)}}))((function(e){var t=e.wallet,a=e.pending,n=e.dispatch,i=["WalletStatus","btn"],u=null,r=void 0;return t.loading||t.processing?(u=s.a.createElement(s.a.Fragment,null,s.a.createElement(_e,null)," ",t.processing||"Loading"),i.push("loading")):t.connected?a.length>0?(u=s.a.createElement(s.a.Fragment,null,s.a.createElement(_e,null)," Enabling margin: ",a[0].tx_hash),i.push("loading"),r=function(){window.open("https://etherscan.io/tx/"+a[0].tx_hash)}):t.margin_setup?(u="Connected: "+t.margin_address,i.push("connected"),i.push("green"),r=function(){window.open("https://etherscan.io/address/"+t.margin_address)}):(u="Margin not enabled",i.push("yellow"),i.push("warn"),r=function(){return n({type:"trigger-margin-enable"})}):(u="Connect Wallet",i.push("disconnected"),i.push("red"),r=function(){return n({type:"trigger-wallet-connect"})}),s.a.createElement("div",{className:i.join(" "),onClick:r},s.a.createElement("div",{className:"indicator"}),s.a.createElement("div",{className:"status"},u))})),ve=(a(181),function(e){function t(){return Object(c.a)(this,t),Object(X.a)(this,Object(Z.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("root").classList.add("modal-open")}},{key:"componentWillUnmount",value:function(){document.getElementById("root").classList.remove("modal-open")}},{key:"closeModal",value:function(e){e.target===this._ref&&this.props.onClose&&this.props.onClose()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Modal",onClick:this.closeModal.bind(this),ref:function(t){return e._ref=t}},this.props.children)}}]),t}(n.Component)),we=(a(75),a(15)),xe=a.n(we),ke=a(80),Ee=a.n(ke),Me=a(81),Te=a.n(Me),Oe=a(82),Pe=a.n(Oe),Ne=a(83),Ae=a.n(Ne),Se=a(84),De=a.n(Se),je=a(85),Ce=a.n(je),Fe=a(86),Ie=a.n(Fe),Be={BAT:Ee.a,DAI:Te.a,ETH:Pe.a,REP:Ae.a,USDC:De.a,WBTC:Ce.a,ZRX:Ie.a},Re=function(e){function t(){return Object(c.a)(this,t),Object(X.a)(this,Object(Z.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(d.a)(t,[{key:"selectAsset",value:function(e){this.props.onSelect&&this.props.onSelect(e)}},{key:"render",value:function(){var e=this,t=this.props.assets.map((function(t){var a=t.symbol;return s.a.createElement("div",{className:"option"+(e.props.selected===a?" active":""),key:a,onClick:e.selectAsset.bind(e,a)},s.a.createElement("img",{src:Be[a]}),a)})),a=null;t.length&&(a=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"title"},this.props.title||"Select an asset"),s.a.createElement("div",{className:"options"},t)));var n=null;return this.props.children&&(n=s.a.createElement(s.a.Fragment,null,this.props.children)),s.a.createElement("div",{className:"SelectAsset"},a,n)}}]),t}(n.Component),qe=(a(182),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(X.a)(this,Object(Z.a)(t).call(this,e))).state={},Object.keys(e.assets).forEach((function(t){e.assets[t].in_market||(a.state[t]=!0)})),a}return Object(K.a)(t,e),Object(d.a)(t,[{key:"toggleAsset",value:function(e){this.props.assets[e].in_market||this.props.pending[e]||this.setState(Object(W.a)({},e,!this.state[e]))}},{key:"enable",value:function(){var e=this,t=[],a=this.props.pending;Object.keys(this.state).forEach((function(n){e.state[n]&&!a[n]&&t.push(n)})),this.props.dispatch(function(e){return{type:"trigger-enable-assets",assets:e}}(t))}},{key:"render",value:function(){var e=this,t=this.props,a=t.assets,n=t.remove_active,i=0,u=[];return Object.keys(xe.a).forEach((function(t){var r=a[t];if(r){var o=!1,l=["option"];if(r.in_market){if(l.push("active"),n)return}else e.state[t]&&(o=!0);var p=null;e.props.pending[t]?(l.push("pending"),p=s.a.createElement(_e,null)):(o&&(i++,l.push("selected")),p=s.a.createElement("img",{src:Be[t]})),u.push(s.a.createElement("div",{className:l.join(" "),key:t,onClick:e.toggleAsset.bind(e,t)},p,t))}})),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"SelectAsset"},s.a.createElement("div",{className:"title"},"Select assets to enable for margin"),s.a.createElement("div",null,u)),s.a.createElement("div",{className:"EnableAssets"},s.a.createElement("div",null,s.a.createElement("div",{className:"btn blue",onClick:this.enable.bind(this)},"Enable ",i," assets for margin."))))}}]),t}(n.Component)),Le=Object(r.b)((function(e){return{assets:e.assets,pending:re(e)}}))(qe),We=(a(76),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(X.a)(this,Object(Z.a)(t).call(this,e))).state={symbol:e.asset,selected_asset:null,select_asset:!1,value:""},a}return Object(K.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.selectAsset(this.props.asset)}},{key:"setValue",value:function(e){this.setState({value:H(e.target.value)})}},{key:"selectAsset",value:function(e){this.setState({selected_asset:e,select_asset:!1}),this.props.dispatch({type:"trigger-wallet-balance-load",asset:e})}},{key:"onSubmit",value:function(e){if(e.preventDefault(),+this.state.value)return this.props.dispatch(be(this.state.selected_asset,this.state.value)),this.props.onClose&&this.props.onClose(),!1}},{key:"render",value:function(){var e=this,t=this.props,a=t.dispatch,n=t.assets,i=this.state.selected_asset;if(this.state.select_asset)return s.a.createElement(Re,{selected:i,assets:n,onSelect:this.selectAsset.bind(this)});var u=null;return u=this.is_loading?s.a.createElement("div",{className:"input blocked"},s.a.createElement(_e,null),"Loading"):this.is_pending?s.a.createElement("div",{className:"input blocked"},s.a.createElement(_e,null),"Unlocking wallet"):this.is_unlocked?s.a.createElement("form",{className:"input",onSubmit:this.onSubmit.bind(this)},s.a.createElement("div",{className:"title"},"Deposit amount"),s.a.createElement("button",{className:"btn blue"},"Deposit"),s.a.createElement("input",{type:"text",placeholder:"0.0",value:this.state.value,onChange:this.setValue.bind(this)})):s.a.createElement("div",{className:"input blocked"},"Need to unlock wallet to deposit.",s.a.createElement("div",{className:"btn blue",onClick:function(){return a({type:"trigger-unlock",asset:e.state.selected_asset})}},"Unlock")),s.a.createElement("div",{className:"Deposit"},s.a.createElement("div",{className:"asset",onClick:function(){return e.setState({select_asset:!0})}},s.a.createElement("img",{src:Be[i]}),i),u)}},{key:"is_pending",get:function(){var e=this;return!!this.props.pending.find((function(t){return t.data===e.state.symbol}))}},{key:"is_loading",get:function(){return!this._wb||this._wb.loading}},{key:"is_unlocked",get:function(){return this._wb.unlocked}},{key:"balance",get:function(){return this._wb.balance}},{key:"_wb",get:function(){return this.props.wallet_balances[this.state.selected_asset]}}]),t}(n.Component)),He=Object(r.b)((function(e){return{assets:ie(e),pending:ue(e,(function(e){return"unlock"===e.code})),wallet_balances:e.wallet_balances}}))(We),Ve=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(X.a)(this,Object(Z.a)(t).call(this,e))).state={symbol:e.asset,selected_asset:null,select_asset:!1,value:""},a}return Object(K.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.selectAsset(this.props.asset)}},{key:"setValue",value:function(e){this.setState({value:H(e.target.value)})}},{key:"selectAsset",value:function(e){this.setState({selected_asset:e,select_asset:!1})}},{key:"onSubmit",value:function(e){var t,a;if(e.preventDefault(),+this.state.value)return this.props.dispatch((t=this.state.selected_asset,a=this.state.value,{type:"trigger-margin-withdraw",symbol:t,amount:a})),this.props.onClose&&this.props.onClose(),!1}},{key:"render",value:function(){var e=this,t=this.props,a=(t.dispatch,t.assets),n=this.state.selected_asset;if(this.state.select_asset)return s.a.createElement(Re,{selected:n,assets:a,onSelect:this.selectAsset.bind(this)});var i;return i=s.a.createElement("form",{className:"input",onSubmit:this.onSubmit.bind(this)},s.a.createElement("div",{className:"title"},"Withdraw amount"),s.a.createElement("button",{className:"btn blue"},"Withdraw"),s.a.createElement("input",{type:"text",placeholder:"0.0",value:this.state.value,onChange:this.setValue.bind(this)})),s.a.createElement("div",{className:"Deposit"},s.a.createElement("div",{className:"asset",onClick:function(){return e.setState({select_asset:!0})}},s.a.createElement("img",{src:Be[n]}),n),i)}}]),t}(n.Component),ze=Object(r.b)((function(e){return{assets:ie(e)}}))(Ve),Ue=a(49),Je=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(X.a)(this,Object(Z.a)(t).call(this,e))).state={select_asset_modal:!1,enable_assets_modal:!1,deposit_modal_asset:null,withdraw_modal_asset:null},a}return Object(K.a)(t,e),Object(d.a)(t,[{key:"selectSide",value:function(e){this.setState({active_side:e})}},{key:"updateInput",value:function(e,t){t.target.value}},{key:"deposit",value:function(e){var t=xe.a[e];console.log(t),this.props.dispatch(be(e,"0.01"))}},{key:"render",value:function(){var e=this,t=this.props,a=t.trade,n=t.is_ready,i=t.pending_trade,u=t.dispatch,r=null;if(this.state.select_asset_modal){var o=this.state.select_asset_is_input,l=o?a.from_asset:a.to_asset,p=this.props.assets,c=null;o||(p=p.filter((function(e){return e.in_market}))).length!==this.props.assets.length&&(c=s.a.createElement(Le,{remove_active:!0})),r=s.a.createElement(ve,{onClose:function(){return e.setState({select_asset_modal:!1})}},s.a.createElement(Re,{title:o?"Select input asset":"Select output asset",selected:l,onSelect:this.selectAsset.bind(this,o),assets:p},c))}else if(this.state.enable_assets_modal)r=s.a.createElement(ve,{onClose:function(){return e.setState({enable_assets_modal:!1})}},s.a.createElement(Le,null));else if(this.state.deposit_modal_asset){var d=function(){return e.setState({deposit_modal_asset:null})};r=s.a.createElement(ve,{onClose:d},s.a.createElement(He,{onClose:d,asset:this.state.deposit_modal_asset}))}else if(this.state.withdraw_modal_asset){var m=function(){return e.setState({withdraw_modal_asset:null})};r=s.a.createElement(ve,{onClose:m},s.a.createElement(ze,{onClose:m,asset:this.state.withdraw_modal_asset}))}var y=null,f=null;return n?(y=s.a.createElement("div",{className:"data"},this.renderAccounts(),this.renderTrades()),f=i?s.a.createElement("div",{className:"btn red"},s.a.createElement(_e,null)," Trade from ",i.data.from," to ",i.data.to,",",s.a.createElement("a",{href:"https://etherscan.io/tx/"+i.tx_hash,target:"_blank"},i.tx_hash)):s.a.createElement("div",{className:"btn red",onClick:function(){return u((function(e,t){e({type:"trigger-trade",data:t().trade})}))}},"TRADE")):f=s.a.createElement(ge,null),s.a.createElement("div",{className:"App"},r,s.a.createElement("div",{className:"container"},s.a.createElement("header",{className:"header"},s.a.createElement("div",{className:"title"},s.a.createElement("span",null,"Margin Swap"),s.a.createElement("span",{className:"sub"},"Version Alpha, use at your own risk")),s.a.createElement(ge,null)),s.a.createElement("div",{className:"body"},s.a.createElement("div",{className:"trade"},this.renderInput(!0),this.renderInput(!1)),f,y)))}},{key:"renderTrades",value:function(){var e=this.props.trades,t=e.items.map((function(e){var t=function(e,t){return s.a.createElement("div",{className:"amount"},s.a.createElement("img",{src:Be[e]}),s.a.createElement("div",{className:"number"},(a=t,Ue.NE=-1e9,Ue.PE=1e9,Ue(a).toPrecision(5))),s.a.createElement("div",{className:"asset"},e));var a};return s.a.createElement("div",{className:"trade",key:e.key},t(e.from_asset,e.input_amount),s.a.createElement("div",{className:"arrow"}," \u203a "),t(e.to_asset,e.output_amount))}));return e.loading?t=s.a.createElement("div",{className:"trades"},s.a.createElement(_e,null)):0===t.length&&(t=s.a.createElement("div",{className:"trade"},"no trade history")),s.a.createElement("div",{className:"trades"},t)}},{key:"selectAssetModal",value:function(e){this.props.is_ready&&this.setState({select_asset_modal:!0,select_asset_is_input:e})}},{key:"selectAsset",value:function(e,t){this.setState({select_asset_modal:!1}),this.props.dispatch({type:"set-trade",data:Object(W.a)({},e?"from_asset":"to_asset",t)})}},{key:"renderInput",value:function(e){var t=this.props,a=t.trade,n=t.dispatch,i=e?a.input:a.output,u="input-"+e,r=e?"Input":"Output (estimate)",o=function(e){return function(t){return n({type:"set-trade",data:e(t)})}},l=null;return i.max&&!a.loading&&(l=s.a.createElement("div",{className:"max-input"+(i.max_selected?" active":""),onClick:o((function(){return{is_input_active:!0,amount:i.max}}))},"max: ",i.max)),s.a.createElement("div",{className:"input"+(e!==a.is_input_active?" auto":"")},s.a.createElement("div",{className:"amount"},s.a.createElement("label",{className:"title",htmlFor:u},r),s.a.createElement("input",{type:"text",id:u,placeholder:i.placeholder,onChange:o((function(t){return{is_input_active:e,amount:t.target.value}})),value:i.value}),l,s.a.createElement("div",{className:"asset-select",onClick:this.selectAssetModal.bind(this,e)},s.a.createElement("img",{src:Be[i.symbol]})," ",i.symbol)))}},{key:"renderAccounts",value:function(){var e=this,t=this.props,a=t.balances,n=t.margin,i=t.total_value,u=t.asset_enable_pending,r=t.interest,o=function(e){return"amount"+(e?" green":" red")},l=null;l=a.loading?s.a.createElement("div",{className:"account"},s.a.createElement(_e,null)):a.items.map((function(t){if(!t.in_market){var a=null;return a=u[t.symbol]?s.a.createElement("div",{className:"actions"},s.a.createElement(_e,null)," enabling asset"):s.a.createElement("div",{className:"actions"},s.a.createElement("div",{className:"action",onClick:function(){return e.setState({enable_assets_modal:!0})}},"enable")),s.a.createElement("div",{className:"account",key:t.symbol},s.a.createElement("div",{className:"asset"},s.a.createElement("img",{src:Be[t.symbol]})," ",t.symbol),s.a.createElement("div",{className:"amount"}),a)}var n=[],i=e.props.pending_deposits.find((function(e){return e.data===t.symbol}));i&&n.push(s.a.createElement("div",{key:i.id,className:"pending"},s.a.createElement(_e,null)," deposit pending"));var r=e.props.pending_withdraws.find((function(e){return e.data===t.symbol}));return r&&n.push(s.a.createElement("div",{key:r.id,className:"pending"},s.a.createElement(_e,null)," withdraw pending")),s.a.createElement("div",{className:"account",key:t.symbol},s.a.createElement("div",{className:"asset"},s.a.createElement("img",{src:Be[t.symbol]})," ",t.symbol),s.a.createElement("div",{className:o(+t.net_balance>=0)},"$",t.net_value),s.a.createElement("div",{className:"actions"},n,s.a.createElement("div",{className:"action",onClick:function(){return e.setState({deposit_modal_asset:t.symbol})}},"deposit"),s.a.createElement("div",{className:"action",onClick:function(){return e.setState({withdraw_modal_asset:t.symbol})}},"withdraw")))}));var p=null;p=i.loading?s.a.createElement("div",{className:"account"},s.a.createElement("div",{className:"title"},"Value"),s.a.createElement("div",{className:"amount"},s.a.createElement(_e,null))):s.a.createElement("div",{className:"account"},s.a.createElement("div",{className:"title"},"Value"),s.a.createElement("div",{className:o(+i.value>=0)},"$",i.value));var c=null;c=n.loading?s.a.createElement("div",{className:"account"},s.a.createElement("div",{className:"title"},"Margin"),s.a.createElement("div",{className:"amount"},s.a.createElement(_e,null))):s.a.createElement("div",{className:"account"},s.a.createElement("div",{className:"title"},"Margin"),s.a.createElement("div",{className:o(+n.value>=0)},"$",n.value));var d=null;return d=r.loading?s.a.createElement("div",{className:"account"},s.a.createElement("div",{className:"title"},"Interest"),s.a.createElement("div",{className:"amount"},s.a.createElement(_e,null))):s.a.createElement("div",{className:"account"},s.a.createElement("div",{className:"title"},"Interest"),s.a.createElement("div",{className:o(!r.paying)},r.paying?"Paying: ":"Earning: ",r.rate,"% on $",r.amount)),s.a.createElement("div",{className:"accounts"},p,c,d,l)}}]),t}(n.Component),$e=Object(r.b)((function(e){return{balances:ce(e),margin:me(e),interest:ye(e),trade:fe(e),is_ready:le(e),assets:ie(e),asset_enable_pending:re(e),pending_deposits:ue(e,(function(e){return"deposit"===e.code})),pending_withdraws:ue(e,(function(e){return"withdraw"===e.code})),pending_trade:ue(e,(function(e){return"trade"===e.code}))[0],trades:se(e),total_value:de(e)}}))(Je);u.a.render(s.a.createElement(r.a,{store:G},s.a.createElement($e,null)),document.getElementById("root"))},75:function(e,t,a){},76:function(e,t,a){},80:function(e,t,a){e.exports=a.p+"static/media/bat.29ec75d6.svg"},81:function(e,t,a){e.exports=a.p+"static/media/dai.cfb65a48.svg"},82:function(e,t,a){e.exports=a.p+"static/media/eth.b79033a5.svg"},83:function(e,t,a){e.exports=a.p+"static/media/rep.8593a038.svg"},84:function(e,t,a){e.exports=a.p+"static/media/usdc.a2b9c747.svg"},85:function(e,t,a){e.exports=a.p+"static/media/wbtc.1c8888c2.svg"},86:function(e,t,a){e.exports=a.p+"static/media/zrx.9854c285.svg"},87:function(e,t,a){e.exports=a(183)},88:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.31421cd2.chunk.js.map